/**
 *  PDFObject v2.2.7
 *  https://github.com/pipwerks/PDFObject
 *  @license
 *  Copyright (c) 2008-2021 Philip Hutchison
 *  MIT-style license: http://pipwerks.mit-license.org/
 *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.PDFObject=t()}(this,(function(){"use strict";if("undefined"==typeof window||void 0===window.navigator||void 0===window.navigator.userAgent||void 0===window.navigator.mimeTypes)return!1;let e=window.navigator,t=window.navigator.userAgent,o="ActiveXObject"in window,n=void 0!==window.Promise,i=void 0!==e.mimeTypes["application/pdf"],r=void 0!==e.platform&&"MacIntel"===e.platform&&void 0!==e.maxTouchPoints&&e.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(t),d=!r&&void 0!==e.vendor&&/Apple/.test(e.vendor)&&/Safari/.test(t),s=!!(!r&&/irefox/.test(t)&&t.split("rv:").length>1)&&parseInt(t.split("rv:")[1].split(".")[0],10)>18,l=function(e){var t;try{t=new ActiveXObject(e)}catch(e){t=null}return t},a=!r&&(n||s||i||o&&!(!l("AcroPDF.PDF")&&!l("PDF.PdfCtrl"))),p=function(e,t){return t||console.log("[PDFObject] "+e),!1},f=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},c=function(e,t,o,n,i,r,d){f(e);let s=n+"?file="+encodeURIComponent(t)+o,l=document.createElement("div"),a=document.createElement("iframe");return a.src=s,a.className="pdfobject",a.type="application/pdf",a.frameborder="0",a.allow="fullscreen",a.title=r,i&&(a.id=i),d||(l.style.cssText="position: absolute; top: 0; right: 0; bottom: 0; left: 0;",a.style.cssText="border: none; width: 100%; height: 100%;",e.style.position="relative",e.style.overflow="auto"),l.appendChild(a),e.appendChild(l),e.classList.add("pdfobject-container"),e.getElementsByTagName("iframe")[0]},u=function(e,t,o){let n=t||!1,i=o||{},s="string"==typeof i.id?i.id:"",l=i.page||!1,u=i.pdfOpenParams||{},m=i.fallbackLink||!0,b=i.width||"100%",y=i.height||"100%",h=i.title||"Embedded PDF",w="boolean"!=typeof i.assumptionMode||i.assumptionMode,v="boolean"==typeof i.forcePDFJS&&i.forcePDFJS,g="boolean"==typeof i.supportRedirect&&i.supportRedirect,P="boolean"==typeof i.omitInlineStyles&&i.omitInlineStyles,D="boolean"==typeof i.suppressConsole&&i.suppressConsole,T="boolean"==typeof i.forceIframe&&i.forceIframe,F=i.PDFJS_URL||!1,j=function(e){let t=document.body;return"string"==typeof e?t=document.querySelector(e):void 0!==window.jQuery&&e instanceof jQuery&&e.length?t=e.get(0):void 0!==e.nodeType&&1===e.nodeType&&(t=e),t}(n),C="",I="";if("string"!=typeof e)return p("URL is not valid",D);if(!j)return p("Target element cannot be determined",D);if(l&&(u.page=l),I=function(e){let t,o="";if(e){for(t in e)e.hasOwnProperty(t)&&(o+=encodeURIComponent(t)+"="+encodeURIComponent(e[t])+"&");o&&(o="#"+o,o=o.slice(0,o.length-1))}return o}(u),v&&F)return c(j,e,I,F,s,h,P);if(a||w&&!r){return function(e,t,o,n,i,r,d,s,l,a){f(t);let p=document.createElement(e);if(p.src=n+i,p.className="pdfobject",p.type="application/pdf",p.title=l,s&&(p.id=s),"iframe"===e&&(p.allow="fullscreen"),!a){let t="embed"===e?"overflow: auto;":"border: none;";o&&o!==document.body?t+="width: "+r+"; height: "+d+";":t+="position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;",p.style.cssText=t}return t.classList.add("pdfobject-container"),t.appendChild(p),t.getElementsByTagName(e)[0]}(T||g||d?"iframe":"embed",j,t,e,I,b,y,s,h,P)}return F?c(j,e,I,F,s,h,P):(m&&(C="string"==typeof m?m:"<p>This browser does not support inline PDFs. Please download the PDF to view it: <a href='[url]'>Download PDF</a></p>",j.innerHTML=C.replace(/\[url\]/g,e)),p("This browser does not support embedded PDFs",D))};return{embed:function(e,t,o){return u(e,t,o)},pdfobjectversion:"2.2.7",supportsPDFs:a}})),PDFObject.embed("pdf/cv.pdf","#cv");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBkZm9iamVjdC5qcyIsIm1haW4uanMiXSwibmFtZXMiOlsicm9vdCIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJtb2R1bGUiLCJleHBvcnRzIiwiUERGT2JqZWN0IiwidGhpcyIsIndpbmRvdyIsInVuZGVmaW5lZCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1pbWVUeXBlcyIsIm5hdiIsInVhIiwiaXNJRSIsImlzTW9kZXJuQnJvd3NlciIsIlByb21pc2UiLCJzdXBwb3J0c1BkZk1pbWVUeXBlIiwiaXNNb2JpbGVEZXZpY2UiLCJwbGF0Zm9ybSIsIm1heFRvdWNoUG9pbnRzIiwidGVzdCIsImlzU2FmYXJpRGVza3RvcCIsInZlbmRvciIsImlzRmlyZWZveFdpdGhQREZKUyIsInNwbGl0IiwibGVuZ3RoIiwicGFyc2VJbnQiLCJjcmVhdGVBWE8iLCJ0eXBlIiwiYXgiLCJBY3RpdmVYT2JqZWN0IiwiZSIsInN1cHBvcnRzUERGcyIsImVtYmVkRXJyb3IiLCJtc2ciLCJzdXBwcmVzc0NvbnNvbGUiLCJjb25zb2xlIiwibG9nIiwiZW1wdHlOb2RlQ29udGVudHMiLCJub2RlIiwiZmlyc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZ2VuZXJhdGVQREZKU01hcmt1cCIsInRhcmdldE5vZGUiLCJ1cmwiLCJwZGZPcGVuRnJhZ21lbnQiLCJQREZKU19VUkwiLCJpZCIsInRpdGxlIiwib21pdElubGluZVN0eWxlcyIsImZ1bGxVUkwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkaXYiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJpZnJhbWUiLCJzcmMiLCJjbGFzc05hbWUiLCJmcmFtZWJvcmRlciIsImFsbG93Iiwic3R5bGUiLCJjc3NUZXh0IiwicG9zaXRpb24iLCJvdmVyZmxvdyIsImFwcGVuZENoaWxkIiwiY2xhc3NMaXN0IiwiYWRkIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJlbWJlZCIsInRhcmdldFNlbGVjdG9yIiwib3B0aW9ucyIsInNlbGVjdG9yIiwib3B0IiwicGFnZSIsInBkZk9wZW5QYXJhbXMiLCJmYWxsYmFja0xpbmsiLCJ3aWR0aCIsImhlaWdodCIsImFzc3VtcHRpb25Nb2RlIiwiZm9yY2VQREZKUyIsInN1cHBvcnRSZWRpcmVjdCIsImZvcmNlSWZyYW1lIiwiYm9keSIsInF1ZXJ5U2VsZWN0b3IiLCJqUXVlcnkiLCJnZXQiLCJub2RlVHlwZSIsImdldFRhcmdldEVsZW1lbnQiLCJmYWxsYmFja0hUTUwiLCJwZGZQYXJhbXMiLCJwcm9wIiwic3RyaW5nIiwiaGFzT3duUHJvcGVydHkiLCJzbGljZSIsImJ1aWxkVVJMRnJhZ21lbnRTdHJpbmciLCJlbWJlZFR5cGUiLCJnZW5lcmF0ZVBERk9iamVjdE1hcmt1cCIsImlubmVySFRNTCIsInJlcGxhY2UiLCJhIiwiYiIsImMiLCJwZGZvYmplY3R2ZXJzaW9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztDQVNBLFNBQUFBLEVBQUFDLEdBQ0EsbUJBQUFDLFFBQUFBLE9BQUFDLElBRUFELE9BQUEsR0FBQUQsR0FDQSxpQkFBQUcsUUFBQUEsT0FBQUMsUUFJQUQsT0FBQUMsUUFBQUosSUFHQUQsRUFBQU0sVUFBQUwsSUFYQSxDQWFBTSxNQUFBLFdBRUEsYUFNQSxHQUFBLG9CQUFBQyxhQUNBQyxJQUFBRCxPQUFBRSxnQkFDQUQsSUFBQUQsT0FBQUUsVUFBQUMsZ0JBQ0FGLElBQUFELE9BQUFFLFVBQUFFLFVBQ0EsT0FBQSxFQUdBLElBQ0FDLEVBQUFMLE9BQUFFLFVBQ0FJLEVBQUFOLE9BQUFFLFVBQUFDLFVBV0FJLEVBQUEsa0JBQUFQLE9BT0FRLE9BQUFQLElBQUFELE9BQUFTLFFBR0FDLE9BQUFULElBQUFJLEVBQUFELFVBQUEsbUJBU0FPLE9BTkFWLElBQUFJLEVBQUFPLFVBQ0EsYUFBQVAsRUFBQU8sZUFDQVgsSUFBQUksRUFBQVEsZ0JBQ0FSLEVBQUFRLGVBQUEsR0FHQSxrQ0FBQUMsS0FBQVIsR0FHQVMsR0FBQUosUUFDQVYsSUFBQUksRUFBQVcsUUFDQSxRQUFBRixLQUFBVCxFQUFB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LEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLElBTUEwQixJQUVBYSxFQUFBLGlCQUFBYixFQUFBQSxFQW5EQSx5SEFvREFoQyxFQUFBc0QsVUFBQVQsRUFBQVUsUUFBQSxXQUFBdEQsSUFJQVgsRUFBQSw4Q0FBQUUsS0FJQSxNQUFBLENBQ0FpQyxNQUFBLFNBQUErQixFQUFBQyxFQUFBQyxHQUFBLE9BQUFqQyxFQUFBK0IsRUFBQUMsRUFBQUMsSUFDQUMsaUJBeFRBLFFBeVRBdEUsYUFBQUEsTUM5VkE1QixVQUFBZ0UsTUFBQSxhQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiAgUERGT2JqZWN0IHYyLjIuN1xuICogIGh0dHBzOi8vZ2l0aHViLmNvbS9waXB3ZXJrcy9QREZPYmplY3RcbiAqICBAbGljZW5zZVxuICogIENvcHlyaWdodCAoYykgMjAwOC0yMDIxIFBoaWxpcCBIdXRjaGlzb25cbiAqICBNSVQtc3R5bGUgbGljZW5zZTogaHR0cDovL3BpcHdlcmtzLm1pdC1saWNlbnNlLm9yZy9cbiAqICBVTUQgbW9kdWxlIHBhdHRlcm4gZnJvbSBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3RlbXBsYXRlcy9yZXR1cm5FeHBvcnRzLmpzXG4gKi9cblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgICAgIC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuICAgICAgICAvLyBsaWtlIE5vZGUuXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgICAgIHJvb3QuUERGT2JqZWN0ID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgLy9QREZPYmplY3QgaXMgZGVzaWduZWQgZm9yIGNsaWVudC1zaWRlIChicm93c2VycyksIG5vdCBzZXJ2ZXItc2lkZSAobm9kZSlcbiAgICAvL1dpbGwgY2hva2Ugb24gdW5kZWZpbmVkIG5hdmlnYXRvciBhbmQgd2luZG93IHZhcnMgd2hlbiBydW4gb24gc2VydmVyXG4gICAgLy9SZXR1cm4gYm9vbGVhbiBmYWxzZSBhbmQgZXhpdCBmdW5jdGlvbiB3aGVuIHJ1bm5pbmcgc2VydmVyLXNpZGVcblxuICAgIGlmKCB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8IFxuICAgICAgICB3aW5kb3cubmF2aWdhdG9yID09PSB1bmRlZmluZWQgfHwgXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50ID09PSB1bmRlZmluZWQgfHwgXG4gICAgICAgIHdpbmRvdy5uYXZpZ2F0b3IubWltZVR5cGVzID09PSB1bmRlZmluZWQpeyBcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBsZXQgcGRmb2JqZWN0dmVyc2lvbiA9IFwiMi4yLjdcIjtcbiAgICBsZXQgbmF2ID0gd2luZG93Lm5hdmlnYXRvcjtcbiAgICBsZXQgdWEgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDtcblxuICAgIC8vVGltZSB0byBqdW1wIHRocm91Z2ggaG9vcHMgLS0gYnJvd3NlciB2ZW5kb3JzIGRvIG5vdCBtYWtlIGl0IGVhc3kgdG8gZGV0ZWN0IFBERiBzdXBwb3J0LlxuXG4gICAgLypcbiAgICAgICAgSUUxMSBzdGlsbCB1c2VzIEFjdGl2ZVggZm9yIEFkb2JlIFJlYWRlciwgYnV0IElFIDExIGRvZXNuJ3QgZXhwb3NlIHdpbmRvdy5BY3RpdmVYT2JqZWN0IHRoZSBzYW1lIHdheSBcbiAgICAgICAgcHJldmlvdXMgdmVyc2lvbnMgb2YgSUUgZGlkLiB3aW5kb3cuQWN0aXZlWE9iamVjdCB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIGluIElFIDExLCBidXQgXCJBY3RpdmVYT2JqZWN0XCIgXG4gICAgICAgIGluIHdpbmRvdyBldmFsdWF0ZXMgdG8gdHJ1ZS5cblxuICAgICAgICBNUyBFZGdlIGRvZXMgbm90IHN1cHBvcnQgQWN0aXZlWCBzbyB0aGlzIHRlc3Qgd2lsbCBldmFsdWF0ZSBmYWxzZVxuICAgICovXG4gICAgbGV0IGlzSUUgPSAoXCJBY3RpdmVYT2JqZWN0XCIgaW4gd2luZG93KTtcblxuICAgIC8qXG4gICAgICAgIFRoZXJlIGlzIGEgY29pbmNpZGVudGFsIGNvcnJlbGF0aW9uIGJldHdlZW4gaW1wbGVtZW50YXRpb24gb2Ygd2luZG93LnByb21pc2VzIGFuZCBuYXRpdmUgUERGIHN1cHBvcnQgaW4gZGVza3RvcCBicm93c2Vyc1xuICAgICAgICBXZSB1c2UgdGhpcyB0byBhc3N1bWUgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgcHJvbWlzZXMgaXQgc3VwcG9ydHMgZW1iZWRkZWQgUERGc1xuICAgICAgICBJcyB0aGlzIGZyYWdpbGU/IFNvcnQgb2YuIEJ1dCBicm93c2VyIHZlbmRvcnMgcmVtb3ZlZCBtaW1ldHlwZSBkZXRlY3Rpb24sIHNvIHdlJ3JlIGxlZnQgdG8gaW1wcm92aXNlXG4gICAgKi9cbiAgICBsZXQgaXNNb2Rlcm5Ccm93c2VyID0gKHdpbmRvdy5Qcm9taXNlICE9PSB1bmRlZmluZWQpO1xuXG4gICAgLy9PbGRlciBicm93c2VycyBzdGlsbCBleHBvc2UgdGhlIG1pbWVUeXBlXG4gICAgbGV0IHN1cHBvcnRzUGRmTWltZVR5cGUgPSAobmF2Lm1pbWVUeXBlc1tcImFwcGxpY2F0aW9uL3BkZlwiXSAhPT0gdW5kZWZpbmVkKTtcblxuICAgIC8vU2FmYXJpIG9uIGlQYWRPUyBkb2Vzbid0IHJlcG9ydCBhcyAnbW9iaWxlJyB3aGVuIHJlcXVlc3RpbmcgZGVza3RvcCBzaXRlLCB5ZXQgc3RpbGwgZmFpbHMgdG8gZW1iZWQgUERGc1xuICAgIGxldCBpc1NhZmFyaUlPU0Rlc2t0b3BNb2RlID0gKCAgbmF2LnBsYXRmb3JtICE9PSB1bmRlZmluZWQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXYucGxhdGZvcm0gPT09IFwiTWFjSW50ZWxcIiAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdi5tYXhUb3VjaFBvaW50cyAhPT0gdW5kZWZpbmVkICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF2Lm1heFRvdWNoUG9pbnRzID4gMSApO1xuXG4gICAgLy9RdWljayB0ZXN0IGZvciBtb2JpbGUgZGV2aWNlcy5cbiAgICBsZXQgaXNNb2JpbGVEZXZpY2UgPSAoaXNTYWZhcmlJT1NEZXNrdG9wTW9kZSB8fCAvTW9iaXxUYWJsZXR8QW5kcm9pZHxpUGFkfGlQaG9uZS8udGVzdCh1YSkpO1xuXG4gICAgLy9TYWZhcmkgZGVza3RvcCByZXF1aXJlcyBzcGVjaWFsIGhhbmRsaW5nIFxuICAgIGxldCBpc1NhZmFyaURlc2t0b3AgPSAoICFpc01vYmlsZURldmljZSAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYXYudmVuZG9yICE9PSB1bmRlZmluZWQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgL0FwcGxlLy50ZXN0KG5hdi52ZW5kb3IpICYmIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC9TYWZhcmkvLnRlc3QodWEpICk7XG4gICAgXG4gICAgLy9GaXJlZm94IHN0YXJ0ZWQgc2hpcHBpbmcgUERGLmpzIGluIEZpcmVmb3ggMTkuIElmIHRoaXMgaXMgRmlyZWZveCAxOSBvciBncmVhdGVyLCBhc3N1bWUgUERGLmpzIGlzIGF2YWlsYWJsZVxuICAgIGxldCBpc0ZpcmVmb3hXaXRoUERGSlMgPSAoIWlzTW9iaWxlRGV2aWNlICYmIC9pcmVmb3gvLnRlc3QodWEpICYmIHVhLnNwbGl0KFwicnY6XCIpLmxlbmd0aCA+IDEpID8gKHBhcnNlSW50KHVhLnNwbGl0KFwicnY6XCIpWzFdLnNwbGl0KFwiLlwiKVswXSwgMTApID4gMTgpIDogZmFsc2U7XG5cblxuICAgIC8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICBTdXBwb3J0aW5nIGZ1bmN0aW9uc1xuICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuICAgIGxldCBjcmVhdGVBWE8gPSBmdW5jdGlvbiAodHlwZSl7XG4gICAgICAgIHZhciBheDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF4ID0gbmV3IEFjdGl2ZVhPYmplY3QodHlwZSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGF4ID0gbnVsbDsgLy9lbnN1cmUgYXggcmVtYWlucyBudWxsXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF4O1xuICAgIH07XG5cbiAgICAvL0lmIGVpdGhlciBBY3RpdmVYIHN1cHBvcnQgZm9yIFwiQWNyb1BERi5QREZcIiBvciBcIlBERi5QZGZDdHJsXCIgYXJlIGZvdW5kLCByZXR1cm4gdHJ1ZVxuICAgIC8vQ29uc3RydWN0ZWQgYXMgYSBtZXRob2QgKG5vdCBhIHByb3ApIHRvIGF2b2lkIHVubmVjY2VzYXJyeSBvdmVyaGVhZCAtLSB3aWxsIG9ubHkgYmUgZXZhbHVhdGVkIGlmIG5lZWRlZFxuICAgIGxldCBzdXBwb3J0c1BkZkFjdGl2ZVggPSBmdW5jdGlvbiAoKXsgcmV0dXJuICEhKGNyZWF0ZUFYTyhcIkFjcm9QREYuUERGXCIpIHx8IGNyZWF0ZUFYTyhcIlBERi5QZGZDdHJsXCIpKTsgfTtcblxuICAgIC8vRGV0ZXJtaW5lcyB3aGV0aGVyIFBERiBzdXBwb3J0IGlzIGF2YWlsYWJsZVxuICAgIGxldCBzdXBwb3J0c1BERnMgPSAoXG4gICAgICAgIC8vQXMgb2YgU2VwdCAyMDIwIG5vIG1vYmlsZSBicm93c2VycyBwcm9wZXJseSBzdXBwb3J0IFBERiBlbWJlZHNcbiAgICAgICAgIWlzTW9iaWxlRGV2aWNlICYmIChcbiAgICAgICAgICAgIC8vV2UncmUgbW92aW5nIGludG8gdGhlIGFnZSBvZiBNSU1FLWxlc3MgYnJvd3NlcnMuIFRoZXkgbW9zdGx5IGFsbCBzdXBwb3J0IFBERiByZW5kZXJpbmcgd2l0aG91dCBwbHVnaW5zLlxuICAgICAgICAgICAgaXNNb2Rlcm5Ccm93c2VyIHx8XG4gICAgICAgICAgICAvL01vZGVybiB2ZXJzaW9ucyBvZiBGaXJlZm94IGNvbWUgYnVuZGxlZCB3aXRoIFBERkpTXG4gICAgICAgICAgICBpc0ZpcmVmb3hXaXRoUERGSlMgfHxcbiAgICAgICAgICAgIC8vQnJvd3NlcnMgdGhhdCBzdGlsbCBzdXBwb3J0IHRoZSBvcmlnaW5hbCBNSU1FIHR5cGUgY2hlY2tcbiAgICAgICAgICAgIHN1cHBvcnRzUGRmTWltZVR5cGUgfHxcbiAgICAgICAgICAgIC8vUGl0eSB0aGUgcG9vciBzb3VscyBzdGlsbCB1c2luZyBJRVxuICAgICAgICAgICAgKGlzSUUgJiYgc3VwcG9ydHNQZGZBY3RpdmVYKCkpXG4gICAgICAgIClcbiAgICApO1xuXG4gICAgLy9DcmVhdGUgYSBmcmFnbWVudCBpZGVudGlmaWVyIGZvciB1c2luZyBQREYgT3BlbiBwYXJhbWV0ZXJzIHdoZW4gZW1iZWRkaW5nIFBERlxuICAgIGxldCBidWlsZFVSTEZyYWdtZW50U3RyaW5nID0gZnVuY3Rpb24ocGRmUGFyYW1zKXtcblxuICAgICAgICBsZXQgc3RyaW5nID0gXCJcIjtcbiAgICAgICAgbGV0IHByb3A7XG5cbiAgICAgICAgaWYocGRmUGFyYW1zKXtcblxuICAgICAgICAgICAgZm9yIChwcm9wIGluIHBkZlBhcmFtcykge1xuICAgICAgICAgICAgICAgIGlmIChwZGZQYXJhbXMuaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGVuY29kZVVSSUNvbXBvbmVudChwcm9wKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHBkZlBhcmFtc1twcm9wXSkgKyBcIiZcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vVGhlIHN0cmluZyB3aWxsIGJlIGVtcHR5IGlmIG5vIFBERiBQYXJhbXMgZm91bmRcbiAgICAgICAgICAgIGlmKHN0cmluZyl7XG5cbiAgICAgICAgICAgICAgICBzdHJpbmcgPSBcIiNcIiArIHN0cmluZztcblxuICAgICAgICAgICAgICAgIC8vUmVtb3ZlIGxhc3QgYW1wZXJzYW5kXG4gICAgICAgICAgICAgICAgc3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0cmluZy5sZW5ndGggLSAxKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyaW5nO1xuXG4gICAgfTtcblxuICAgIGxldCBlbWJlZEVycm9yID0gZnVuY3Rpb24gKG1zZywgc3VwcHJlc3NDb25zb2xlKXtcbiAgICAgICAgaWYoIXN1cHByZXNzQ29uc29sZSl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltQREZPYmplY3RdIFwiICsgbXNnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcblxuICAgIGxldCBlbXB0eU5vZGVDb250ZW50cyA9IGZ1bmN0aW9uIChub2RlKXtcbiAgICAgICAgd2hpbGUobm9kZS5maXJzdENoaWxkKXtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgZ2V0VGFyZ2V0RWxlbWVudCA9IGZ1bmN0aW9uICh0YXJnZXRTZWxlY3Rvcil7XG5cbiAgICAgICAgLy9EZWZhdWx0IHRvIGJvZHkgZm9yIGZ1bGwtYnJvd3NlciBQREZcbiAgICAgICAgbGV0IHRhcmdldE5vZGUgPSBkb2N1bWVudC5ib2R5O1xuXG4gICAgICAgIC8vSWYgYSB0YXJnZXRTZWxlY3RvciBpcyBzcGVjaWZpZWQsIGNoZWNrIHRvIHNlZSB3aGV0aGVyXG4gICAgICAgIC8vaXQncyBwYXNzaW5nIGEgc2VsZWN0b3IsIGpRdWVyeSBvYmplY3QsIG9yIGFuIEhUTUwgZWxlbWVudFxuXG4gICAgICAgIGlmKHR5cGVvZiB0YXJnZXRTZWxlY3RvciA9PT0gXCJzdHJpbmdcIil7XG5cbiAgICAgICAgICAgIC8vSXMgQ1NTIHNlbGVjdG9yXG4gICAgICAgICAgICB0YXJnZXROb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXRTZWxlY3Rvcik7XG5cbiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cualF1ZXJ5ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0U2VsZWN0b3IgaW5zdGFuY2VvZiBqUXVlcnkgJiYgdGFyZ2V0U2VsZWN0b3IubGVuZ3RoKSB7XG5cbiAgICAgICAgICAgIC8vSXMgalF1ZXJ5IGVsZW1lbnQuIEV4dHJhY3QgSFRNTCBub2RlXG4gICAgICAgICAgICB0YXJnZXROb2RlID0gdGFyZ2V0U2VsZWN0b3IuZ2V0KDApO1xuXG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0U2VsZWN0b3Iubm9kZVR5cGUgIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRTZWxlY3Rvci5ub2RlVHlwZSA9PT0gMSl7XG5cbiAgICAgICAgICAgIC8vSXMgSFRNTCBlbGVtZW50XG4gICAgICAgICAgICB0YXJnZXROb2RlID0gdGFyZ2V0U2VsZWN0b3I7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXROb2RlO1xuXG4gICAgfTtcblxuICAgIGxldCBnZW5lcmF0ZVBERkpTTWFya3VwID0gZnVuY3Rpb24gKHRhcmdldE5vZGUsIHVybCwgcGRmT3BlbkZyYWdtZW50LCBQREZKU19VUkwsIGlkLCB0aXRsZSwgb21pdElubGluZVN0eWxlcyl7XG5cbiAgICAgICAgLy9FbnN1cmUgdGFyZ2V0IGVsZW1lbnQgaXMgZW1wdHkgZmlyc3RcbiAgICAgICAgZW1wdHlOb2RlQ29udGVudHModGFyZ2V0Tm9kZSk7XG5cbiAgICAgICAgbGV0IGZ1bGxVUkwgPSBQREZKU19VUkwgKyBcIj9maWxlPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHVybCkgKyBwZGZPcGVuRnJhZ21lbnQ7XG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBsZXQgaWZyYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgXG4gICAgICAgIGlmcmFtZS5zcmMgPSBmdWxsVVJMO1xuICAgICAgICBpZnJhbWUuY2xhc3NOYW1lID0gXCJwZGZvYmplY3RcIjtcbiAgICAgICAgaWZyYW1lLnR5cGUgPSBcImFwcGxpY2F0aW9uL3BkZlwiO1xuICAgICAgICBpZnJhbWUuZnJhbWVib3JkZXIgPSBcIjBcIjtcbiAgICAgICAgaWZyYW1lLmFsbG93ID0gXCJmdWxsc2NyZWVuXCI7XG4gICAgICAgIGlmcmFtZS50aXRsZSA9IHRpdGxlO1xuICAgICAgICBcbiAgICAgICAgaWYoaWQpe1xuICAgICAgICAgICAgaWZyYW1lLmlkID0gaWQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZighb21pdElubGluZVN0eWxlcyl7XG4gICAgICAgICAgICBkaXYuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGxlZnQ6IDA7XCI7XG4gICAgICAgICAgICBpZnJhbWUuc3R5bGUuY3NzVGV4dCA9IFwiYm9yZGVyOiBub25lOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlO1wiO1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5zdHlsZS5wb3NpdGlvbiA9IFwicmVsYXRpdmVcIjtcbiAgICAgICAgICAgIHRhcmdldE5vZGUuc3R5bGUub3ZlcmZsb3cgPSBcImF1dG9cIjsgICAgICAgIFxuICAgICAgICB9XG5cbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgICAgIHRhcmdldE5vZGUuYXBwZW5kQ2hpbGQoZGl2KTtcbiAgICAgICAgdGFyZ2V0Tm9kZS5jbGFzc0xpc3QuYWRkKFwicGRmb2JqZWN0LWNvbnRhaW5lclwiKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiB0YXJnZXROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaWZyYW1lXCIpWzBdO1xuXG4gICAgfTtcblxuICAgIGxldCBnZW5lcmF0ZVBERk9iamVjdE1hcmt1cCA9IGZ1bmN0aW9uIChlbWJlZFR5cGUsIHRhcmdldE5vZGUsIHRhcmdldFNlbGVjdG9yLCB1cmwsIHBkZk9wZW5GcmFnbWVudCwgd2lkdGgsIGhlaWdodCwgaWQsIHRpdGxlLCBvbWl0SW5saW5lU3R5bGVzKXtcblxuICAgICAgICAvL0Vuc3VyZSB0YXJnZXQgZWxlbWVudCBpcyBlbXB0eSBmaXJzdFxuICAgICAgICBlbXB0eU5vZGVDb250ZW50cyh0YXJnZXROb2RlKTtcblxuICAgICAgICBsZXQgZW1iZWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGVtYmVkVHlwZSk7XG4gICAgICAgIGVtYmVkLnNyYyA9IHVybCArIHBkZk9wZW5GcmFnbWVudDtcbiAgICAgICAgZW1iZWQuY2xhc3NOYW1lID0gXCJwZGZvYmplY3RcIjtcbiAgICAgICAgZW1iZWQudHlwZSA9IFwiYXBwbGljYXRpb24vcGRmXCI7XG4gICAgICAgIGVtYmVkLnRpdGxlID0gdGl0bGU7XG5cbiAgICAgICAgaWYoaWQpe1xuICAgICAgICAgICAgZW1iZWQuaWQgPSBpZDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKGVtYmVkVHlwZSA9PT0gXCJpZnJhbWVcIil7XG4gICAgICAgICAgICBlbWJlZC5hbGxvdyA9IFwiZnVsbHNjcmVlblwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoIW9taXRJbmxpbmVTdHlsZXMpe1xuXG4gICAgICAgICAgICBsZXQgc3R5bGUgPSAoZW1iZWRUeXBlID09PSBcImVtYmVkXCIpID8gXCJvdmVyZmxvdzogYXV0bztcIiA6IFwiYm9yZGVyOiBub25lO1wiO1xuXG4gICAgICAgICAgICBpZih0YXJnZXRTZWxlY3RvciAmJiB0YXJnZXRTZWxlY3RvciAhPT0gZG9jdW1lbnQuYm9keSl7XG4gICAgICAgICAgICAgICAgc3R5bGUgKz0gXCJ3aWR0aDogXCIgKyB3aWR0aCArIFwiOyBoZWlnaHQ6IFwiICsgaGVpZ2h0ICsgXCI7XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHN0eWxlICs9IFwicG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IHJpZ2h0OiAwOyBib3R0b206IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7XCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGVtYmVkLnN0eWxlLmNzc1RleHQgPSBzdHlsZTsgXG5cbiAgICAgICAgfVxuXG4gICAgICAgIHRhcmdldE5vZGUuY2xhc3NMaXN0LmFkZChcInBkZm9iamVjdC1jb250YWluZXJcIik7XG4gICAgICAgIHRhcmdldE5vZGUuYXBwZW5kQ2hpbGQoZW1iZWQpO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGVtYmVkVHlwZSlbMF07XG5cbiAgICB9O1xuXG4gICAgbGV0IGVtYmVkID0gZnVuY3Rpb24odXJsLCB0YXJnZXRTZWxlY3Rvciwgb3B0aW9ucyl7XG5cbiAgICAgICAgLy9JZiB0YXJnZXRTZWxlY3RvciBpcyBub3QgZGVmaW5lZCwgY29udmVydCB0byBib29sZWFuXG4gICAgICAgIGxldCBzZWxlY3RvciA9IHRhcmdldFNlbGVjdG9yIHx8IGZhbHNlO1xuXG4gICAgICAgIC8vRW5zdXJlIG9wdGlvbnMgb2JqZWN0IGlzIG5vdCB1bmRlZmluZWQgLS0gZW5hYmxlcyBlYXNpZXIgZXJyb3IgY2hlY2tpbmcgYmVsb3dcbiAgICAgICAgbGV0IG9wdCA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgLy9HZXQgcGFzc2VkIG9wdGlvbnMsIG9yIHNldCByZWFzb25hYmxlIGRlZmF1bHRzXG4gICAgICAgIGxldCBpZCA9ICh0eXBlb2Ygb3B0LmlkID09PSBcInN0cmluZ1wiKSA/IG9wdC5pZCA6IFwiXCI7XG4gICAgICAgIGxldCBwYWdlID0gb3B0LnBhZ2UgfHwgZmFsc2U7XG4gICAgICAgIGxldCBwZGZPcGVuUGFyYW1zID0gb3B0LnBkZk9wZW5QYXJhbXMgfHwge307XG4gICAgICAgIGxldCBmYWxsYmFja0xpbmsgPSBvcHQuZmFsbGJhY2tMaW5rIHx8IHRydWU7XG4gICAgICAgIGxldCB3aWR0aCA9IG9wdC53aWR0aCB8fCBcIjEwMCVcIjtcbiAgICAgICAgbGV0IGhlaWdodCA9IG9wdC5oZWlnaHQgfHwgXCIxMDAlXCI7XG4gICAgICAgIGxldCB0aXRsZSA9IG9wdC50aXRsZSB8fCBcIkVtYmVkZGVkIFBERlwiO1xuICAgICAgICBsZXQgYXNzdW1wdGlvbk1vZGUgPSAodHlwZW9mIG9wdC5hc3N1bXB0aW9uTW9kZSA9PT0gXCJib29sZWFuXCIpID8gb3B0LmFzc3VtcHRpb25Nb2RlIDogdHJ1ZTtcbiAgICAgICAgbGV0IGZvcmNlUERGSlMgPSAodHlwZW9mIG9wdC5mb3JjZVBERkpTID09PSBcImJvb2xlYW5cIikgPyBvcHQuZm9yY2VQREZKUyA6IGZhbHNlO1xuICAgICAgICBsZXQgc3VwcG9ydFJlZGlyZWN0ID0gKHR5cGVvZiBvcHQuc3VwcG9ydFJlZGlyZWN0ID09PSBcImJvb2xlYW5cIikgPyBvcHQuc3VwcG9ydFJlZGlyZWN0IDogZmFsc2U7XG4gICAgICAgIGxldCBvbWl0SW5saW5lU3R5bGVzID0gKHR5cGVvZiBvcHQub21pdElubGluZVN0eWxlcyA9PT0gXCJib29sZWFuXCIpID8gb3B0Lm9taXRJbmxpbmVTdHlsZXMgOiBmYWxzZTtcbiAgICAgICAgbGV0IHN1cHByZXNzQ29uc29sZSA9ICh0eXBlb2Ygb3B0LnN1cHByZXNzQ29uc29sZSA9PT0gXCJib29sZWFuXCIpID8gb3B0LnN1cHByZXNzQ29uc29sZSA6IGZhbHNlO1xuICAgICAgICBsZXQgZm9yY2VJZnJhbWUgPSAodHlwZW9mIG9wdC5mb3JjZUlmcmFtZSA9PT0gXCJib29sZWFuXCIpID8gb3B0LmZvcmNlSWZyYW1lIDogZmFsc2U7XG4gICAgICAgIGxldCBQREZKU19VUkwgPSBvcHQuUERGSlNfVVJMIHx8IGZhbHNlO1xuICAgICAgICBsZXQgdGFyZ2V0Tm9kZSA9IGdldFRhcmdldEVsZW1lbnQoc2VsZWN0b3IpO1xuICAgICAgICBsZXQgZmFsbGJhY2tIVE1MID0gXCJcIjtcbiAgICAgICAgbGV0IHBkZk9wZW5GcmFnbWVudCA9IFwiXCI7XG4gICAgICAgIGxldCBmYWxsYmFja0hUTUxfZGVmYXVsdCA9IFwiPHA+VGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgaW5saW5lIFBERnMuIFBsZWFzZSBkb3dubG9hZCB0aGUgUERGIHRvIHZpZXcgaXQ6IDxhIGhyZWY9J1t1cmxdJz5Eb3dubG9hZCBQREY8L2E+PC9wPlwiO1xuXG4gICAgICAgIC8vRW5zdXJlIFVSTCBpcyBhdmFpbGFibGUuIElmIG5vdCwgZXhpdCBub3cuXG4gICAgICAgIGlmKHR5cGVvZiB1cmwgIT09IFwic3RyaW5nXCIpeyByZXR1cm4gZW1iZWRFcnJvcihcIlVSTCBpcyBub3QgdmFsaWRcIiwgc3VwcHJlc3NDb25zb2xlKTsgfVxuXG4gICAgICAgIC8vSWYgdGFyZ2V0IGVsZW1lbnQgaXMgc3BlY2lmaWVkIGJ1dCBpcyBub3QgdmFsaWQsIGV4aXQgd2l0aG91dCBkb2luZyBhbnl0aGluZ1xuICAgICAgICBpZighdGFyZ2V0Tm9kZSl7IHJldHVybiBlbWJlZEVycm9yKFwiVGFyZ2V0IGVsZW1lbnQgY2Fubm90IGJlIGRldGVybWluZWRcIiwgc3VwcHJlc3NDb25zb2xlKTsgfVxuXG4gICAgICAgIC8vcGFnZSBvcHRpb24gb3ZlcnJpZGVzIHBkZk9wZW5QYXJhbXMsIGlmIGZvdW5kXG4gICAgICAgIGlmKHBhZ2UpeyBwZGZPcGVuUGFyYW1zLnBhZ2UgPSBwYWdlOyB9XG5cbiAgICAgICAgLy9TdHJpbmdpZnkgb3B0aW9uYWwgQWRvYmUgcGFyYW1zIGZvciBvcGVuaW5nIGRvY3VtZW50IChhcyBmcmFnbWVudCBpZGVudGlmaWVyKVxuICAgICAgICBwZGZPcGVuRnJhZ21lbnQgPSBidWlsZFVSTEZyYWdtZW50U3RyaW5nKHBkZk9wZW5QYXJhbXMpO1xuXG5cbiAgICAgICAgLy8gLS09PSBEbyB0aGUgZGFuY2U6IEVtYmVkIGF0dGVtcHQgIzEgPT0tLVxuXG4gICAgICAgIC8vSWYgdGhlIGZvcmNlUERGSlMgb3B0aW9uIGlzIGludm9rZWQsIHNraXAgZXZlcnl0aGluZyBlbHNlIGFuZCBlbWJlZCBhcyBkaXJlY3RlZFxuICAgICAgICBpZihmb3JjZVBERkpTICYmIFBERkpTX1VSTCl7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVQREZKU01hcmt1cCh0YXJnZXROb2RlLCB1cmwsIHBkZk9wZW5GcmFnbWVudCwgUERGSlNfVVJMLCBpZCwgdGl0bGUsIG9taXRJbmxpbmVTdHlsZXMpO1xuICAgICAgICB9XG4gXG4gICAgICAgIC8vIC0tPT0gRW1iZWQgYXR0ZW1wdCAjMiA9PS0tXG5cbiAgICAgICAgLy9FbWJlZCBQREYgaWYgdHJhZGl0aW9uYWwgc3VwcG9ydCBpcyBwcm92aWRlZCwgb3IgaWYgdGhpcyBkZXZlbG9wZXIgaXMgd2lsbGluZyB0byByb2xsIHdpdGggYXNzdW1wdGlvblxuICAgICAgICAvL3RoYXQgbW9kZXJuIGRlc2t0b3AgKG5vdCBtb2JpbGUpIGJyb3dzZXJzIG5hdGl2ZWx5IHN1cHBvcnQgUERGcyBcbiAgICAgICAgaWYoc3VwcG9ydHNQREZzIHx8IChhc3N1bXB0aW9uTW9kZSAmJiAhaXNNb2JpbGVEZXZpY2UpKXtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy9TaG91bGQgd2UgdXNlIDxlbWJlZD4gb3IgPGlmcmFtZT4/IEluIG1vc3QgY2FzZXMgPGVtYmVkPi4gXG4gICAgICAgICAgICAvL0FsbG93IGRldmVsb3BlciB0byBmb3JjZSA8aWZyYW1lPiwgaWYgZGVzaXJlZFxuICAgICAgICAgICAgLy9UaGVyZSBpcyBhbiBlZGdlIGNhc2Ugd2hlcmUgU2FmYXJpIGRvZXMgbm90IHJlc3BlY3QgMzAyIHJlZGlyZWN0IHJlcXVlc3RzIGZvciBQREYgZmlsZXMgd2hlbiB1c2luZyA8ZW1iZWQ+IGVsZW1lbnQuXG4gICAgICAgICAgICAvL1JlZGlyZWN0IGFwcGVhcnMgdG8gd29yayBmaW5lIHdoZW4gdXNpbmcgPGlmcmFtZT4gaW5zdGVhZCBvZiA8ZW1iZWQ+IChBZGRyZXNzZXMgaXNzdWUgIzIxMClcbiAgICAgICAgICAgIC8vRm9yY2luZyBTYWZhcmkgZGVza3RvcCB0byB1c2UgaWZyYW1lIGR1ZSB0byBmcmVlemluZyBidWcgaW4gbWFjT1MgMTEgKEJpZyBTdXIpXG4gICAgICAgICAgICBsZXQgZW1iZWR0eXBlID0gKGZvcmNlSWZyYW1lIHx8IHN1cHBvcnRSZWRpcmVjdCB8fCBpc1NhZmFyaURlc2t0b3ApID8gXCJpZnJhbWVcIiA6IFwiZW1iZWRcIjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlUERGT2JqZWN0TWFya3VwKGVtYmVkdHlwZSwgdGFyZ2V0Tm9kZSwgdGFyZ2V0U2VsZWN0b3IsIHVybCwgcGRmT3BlbkZyYWdtZW50LCB3aWR0aCwgaGVpZ2h0LCBpZCwgdGl0bGUsIG9taXRJbmxpbmVTdHlsZXMpO1xuXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIC0tPT0gRW1iZWQgYXR0ZW1wdCAjMyA9PS0tXG4gICAgICAgIFxuICAgICAgICAvL0lmIGV2ZXJ5dGhpbmcgZWxzZSBoYXMgZmFpbGVkIGFuZCBhIFBERkpTIGZhbGxiYWNrIGlzIHByb3ZpZGVkLCB0cnkgdG8gdXNlIGl0XG4gICAgICAgIGlmKFBERkpTX1VSTCl7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVQREZKU01hcmt1cCh0YXJnZXROb2RlLCB1cmwsIHBkZk9wZW5GcmFnbWVudCwgUERGSlNfVVJMLCBpZCwgdGl0bGUsIG9taXRJbmxpbmVTdHlsZXMpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyAtLT09IFBERiBlbWJlZCBub3Qgc3VwcG9ydGVkISBVc2UgZmFsbGJhY2sgPT0tLSBcblxuICAgICAgICAvL0Rpc3BsYXkgdGhlIGZhbGxiYWNrIGxpbmsgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmKGZhbGxiYWNrTGluayl7XG5cbiAgICAgICAgICAgIGZhbGxiYWNrSFRNTCA9ICh0eXBlb2YgZmFsbGJhY2tMaW5rID09PSBcInN0cmluZ1wiKSA/IGZhbGxiYWNrTGluayA6IGZhbGxiYWNrSFRNTF9kZWZhdWx0O1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZS5pbm5lckhUTUwgPSBmYWxsYmFja0hUTUwucmVwbGFjZSgvXFxbdXJsXFxdL2csIHVybCk7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBlbWJlZEVycm9yKFwiVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgZW1iZWRkZWQgUERGc1wiLCBzdXBwcmVzc0NvbnNvbGUpO1xuXG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGVtYmVkOiBmdW5jdGlvbiAoYSxiLGMpeyByZXR1cm4gZW1iZWQoYSxiLGMpOyB9LFxuICAgICAgICBwZGZvYmplY3R2ZXJzaW9uOiAoZnVuY3Rpb24gKCkgeyByZXR1cm4gcGRmb2JqZWN0dmVyc2lvbjsgfSkoKSxcbiAgICAgICAgc3VwcG9ydHNQREZzOiAoZnVuY3Rpb24gKCl7IHJldHVybiBzdXBwb3J0c1BERnM7IH0pKClcbiAgICB9O1xuXG59KSk7XG4iLCJQREZPYmplY3QuZW1iZWQoXCJwZGYvY3YucGRmXCIsIFwiI2N2XCIpOyJdfQ==
